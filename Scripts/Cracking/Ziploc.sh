#!/usr/bin/env bash

# Check if the user provided a zip file as an argument
if [ $# -eq 0 ]; then
	echo "Usage: $0 <zip_file>"
	exit 1
fi

zip_file="$1" # The zip file to crack

# Check if the zip file exists
if [ ! -f "$zip_file" ]; then
	echo "Error: Zip file '$zip_file' not found."
	exit 1
fi

# Prompt the user for a wordlist file
read -p "Enter the path to the wordlist file: " wordlist_file

# Check if the wordlist file exists
if [ ! -f "$wordlist_file" ]; then
	echo "Error: Wordlist file '$wordlist_file' not found."
	exit 1
fi


# Iterate over each word in the wordlist and try to crack the zip file
while read -r password; do
	if unzip -P "$password" "$zip_file" > /dev/null 2>&1; then
		echo "Password found:\npassword"
		exit 0
	fi
done < "$wordlist_file"

echo "Password not found."

exit 0